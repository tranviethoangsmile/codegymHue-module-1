<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>app product manager</title>
</head>

<body>
    <h1>PRODUCT MANAGER APP</h1>
    <input type="text" id="newProductAdd">
    <button onclick="addNewProduct()">ADD</button>
    <p>***************************************</p>

    <table id="productDisplay" border="1">

    </table>
    <div id="formEdit"></div>
    <script>
        var productList = [];
        productDisplay()
        function productDisplay() {
            var productDisplay =
                `
        <tr>
            <th>PRODUCT NAME</th>
            <th>SL</th>
            <th>${productList.length}</th>
        </tr>
        `
            for (let i = 0; i < productList.length; i++) {
                productDisplay +=
                    `
            <tr>
                <td>${productList[i]}</td>
                <td><button onclick = "showFormEdit(${i})">EDIT</button></td>
                <td><button onclick = "deleteProduct(${i})">DELETE</button></td>

            </tr>
            `
            }
            document.getElementById("productDisplay").innerHTML = productDisplay;

        }

        function addNewProduct() {
            var newProduct = document.getElementById("newProductAdd").value;
            productList.push(newProduct);
            console.log(productList);
            productDisplay()
            document.getElementById("newProductAdd").value = '';

        }


        function deleteProduct(index) {
            productList.splice(index, 1);
            productDisplay()

        }

        function showFormEdit(index) {
            var formEdit = '';
            formEdit =
              `
            <input id ="newNameProduct" type = "text" value = "${productList[index]}">
            <button onclick = "saveNewProductName(${index})">save</button>
            `
            document.getElementById("formEdit").innerHTML = formEdit;
        }


        function saveNewProductName(index) {
            productList[index] = document.getElementById("newNameProduct").value;
            productDisplay()
            document.getElementById("formEdit").innerHTML = '';



        }


    </script>


</body>

</html>